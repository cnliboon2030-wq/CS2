# Student Grade Calculator Code : GradeKeeper

import random
#Gets the user's name
name = input("Enter your name: ")

print(f"Hello, {name}! Let's calculate your final grade together.")
#Gives a condition
condition = int(input("Enter 1 to calculate your numerical grade, or enter 2 to calculate your GWA: "))
#Gets the amount of subjects
subjects = int(input("How many subjects do you have? Enter here: "))
#Prepares necessary lists
subject_list = list()

grades = list()

units_list = list()
#Initializes final grade
finalgrade = 0

program_ongoing = True

#Creates functions to calculate the grades
def calculate_GWA():
    total_gwa = 0
    total_units = 0
    for i in range(subjects):
        subject_name = input(f"Enter name of subject {i+1}: ")
        units = float(input(f"Enter amount of units for {subject_name}: "))
        gwa = float(input(f"Enter GWA for {subject_name}: "))
        while gwa < 1.00 or gwa > 5.00:
            gwa = float(input(f"Invalid! Enter GWA for {subject_name} (1.00-5.00): "))
        subject_list.append(subject_name)
        grades.append(gwa)
        units_list.append(units)
        total_gwa += (gwa * units)
        total_units += units
    average = total_gwa / total_units
    return average

def calculate_numerical_grade():
    total = 0
    for i in range(subjects):
        subject_name = input(f"Enter name of subject {i+1}: ")
        grade = float(input(f"Enter grade for {subject_name}: "))
        while grade < 0 or grade > 100:
            grade = float(input(f"Invalid! Enter grade for {subject_name} (0-100): "))
        subject_list.append(subject_name)
        grades.append(grade)
        units_list.append(1)
        total += grade
    average = total / subjects
    return average
#Creates function to create a table
def create_table():
    print(f"\n{name}, your grades are as follows:")
    print ("Subjects        | Grade")
    for i in range(subjects):
        print(f"{subject_list[i]:<15} | {grades[i]:>5}")
    print(f"{"Average":<15} | {finalgrade:>5}")

#Calls on the functions

if condition == 1:
    
    #Prints final grade
    
    finalgrade = calculate_numerical_grade()
    
    create_table()
    
    print(f"\n{name}, your final average grade is : {finalgrade:.0f}")
    
    #Prints honors remark
    
    if 97.5 <= finalgrade <= 100:
        print("You achieved Highest Honors! Congratulations!")
    elif 94.5 <= finalgrade < 97.5:
        print("You achieved High Honors! Congratulations!")
    elif 89.5 <= finalgrade < 94.5:
        print("You achieved Honors! Congratulations!")

    #Gives a remark
    if finalgrade >= 90:
        print("Remark: Outstanding!")
    elif finalgrade >= 85:
        print("Remark: Very Satisfactory")
    elif finalgrade >= 80:
        print("Remark: Satisfactory")
    elif finalgrade >= 75:
        print("Remark: Fairly Satisfactory")
    else:
        print("Remark: Did Not Meet Expectations")
    
    highest_index = grades.index(max(grades))
    lowest_index = grades.index(min(grades))
    
    print(f"Your best subject is {subject_list[highest_index]} with a grade of {grades[highest_index]}! Amazing!")
    print(f"However, your worst subject is {subject_list[lowest_index]} with a grade of {grades[lowest_index]}. Try studying for this subject more.")

elif condition == 2:
    
    #Prints final grade
    
    finalgrade = calculate_GWA()
    
    create_table()
    
    print(f"\n{name}, your final average grade is : {finalgrade:.2f}")
    
    #Prints DL remark
    
    if finalgrade <= 1.50:
        print("You're in the Director's List! Congratulations!")

    #Gives a remark
    
    if 1.25 > finalgrade >= 1.00:
        print("Remark: Excellent!")
    elif 1.50 >= finalgrade >= 1.25:
        print("Remark: Very Good")
    elif 2.00 > finalgrade > 1.50:
        print("Remark: Good")
    elif 2.50 >= finalgrade >= 2.00:
        print("Remark: Satisfactory")
    elif 3.00 >= finalgrade > 2.50:
        print("Remark: Fair")
    elif 5.00 >= finalgrade > 3.00:
        print("Remark: Failed")
        
    highest_index = grades.index(min(grades))
    lowest_index = grades.index(max(grades))
    
    print(f"Your best subject is {subject_list[highest_index]} with a grade of {grades[highest_index]:.2f}! Amazing!")
    print(f"However, your worst subject is {subject_list[lowest_index]} with a grade of {grades[lowest_index]:.2f}. Try studying for this subject more.")
    
else:
    while (condition != 1) or (condition != 2):
        condition = int(input("Invalid condition input. Enter 1 to calculate your numerical grade, or enter 2 to calculate your GWA: "))

messages = [ 
    "Keep pushing!",
    "You're doing great!",
    "Proud of you!",
    "Next time will be even better!"
]

print(random.choice(messages))

#Prepares CRUD functions
def add_value(new_subject, new_grade, new_units=1):
    global subjects
    global finalgrade
    total_units = 0
    finalgrade = 0
    subject_list.append(new_subject)
    grades.append(new_grade)
    units_list.append(new_units)
    subjects += 1
    for i in range(subjects):
        total_units += units_list[i]
        finalgrade += (grades[i] * units_list[i])
    finalgrade = finalgrade / total_units
    print("Subject added.")

def get_value(subject_input):
    subject_found = False
    for i in range(subjects):
        if subject_list[i] == subject_input:
            return subject_input, grades[i], units_list[i]
            subject_found = True
    if subject_found == False:
        return "SUBJECT NOT FOUND"

def update_value(subject_input, new_subject, new_grade, new_units=1):
    global finalgrade
    total_units = 0
    finalgrade = 0
    subject_found = False
    for i in range(subjects):
        if subject_list[i] == subject_input:
            subject_list[i] = new_subject
            grades[i] = new_grade
            units_list[i] = new_units
            print("Subject updated.")
            for i in range(subjects):
                total_units += units_list[i]
                finalgrade += (grades[i] * units_list[i])
            finalgrade = finalgrade / total_units
            subject_found = True
    if subject_found == False:
        return "SUBJECT NOT FOUND"

def delete_value(subject_input):
    global subjects
    global finalgrade
    total_units = 0
    finalgrade = 0
    subject_found = False
    for i in range(subjects):
        if subject_list[i] == subject_input:
            subjects -= 1
            subject_list.remove(subject_list[i])
            grades.remove(grades[i])
            units_list.remove(units_list[i])
            print("Subject deleted.")
            for i in range(subjects):
                total_units += units_list[i]
                finalgrade += (grades[i] * units_list[i])
            finalgrade = finalgrade / total_units
            subject_found = True
            break
    if subject_found == False:
        return "SUBJECT NOT FOUND"

#Calls CRUD functions
while program_ongoing = True:
    crud_condition = int(input("Enter 1 to add a subject, enter 2 to get the grade of a specific subject, enter 3 to update a subject, enter 4 to delete a subject, enter 5 to create a table showing all the subjects, or enter 6 to end the program."))
    if crud_condition = 1:
        new_subject = input("Enter new subject: ")
        new_grade = input("Enter grade of new subject: ")
        if condition = 2:
            new_units = input("Enter units of new subject: ")
        else:
            new_units = 1
        add_value(new_subject, new_grade, new_units)
    if crud_condition = 2:
        subject_input = input("Enter the name of the subject you want to check: ")
        print(get_value(subject_input))
    if crud_condition = 3:
        subject_input = input("Enter the name of the subject you want to update: ")
        new_subject = input("Update subject name: ")
        new_grade = input("Update subject grade: ")
        if condition = 2:
            new_units = input("Update subject units: ")
        else:
            new_units = 1
        update_value(subject_input, new_subject, new_grade, new_units=1)
    if crud_condition = 4:
        subject_input = ("Enter the name of the subject you want to delete: ")
        delete_value(subject_input)
    if crud_condition = 5:
        create_table()
    if crud_condition = 6:
        program_ongoing = False

print("Thank you for using Gradekeeper!")

#Members : Chloe Liboon, Ashton Barquin, Justin Panistante
